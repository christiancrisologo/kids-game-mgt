(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{1260:(e,r,a)=>{Promise.resolve().then(a.bind(a,7564))},3294:(e,r,a)=>{"use strict";a.d(r,{n:()=>l});var t=a(5453),s=a(3970);let l=(0,t.v)(e=>({user:null,loading:!1,error:"",login:async(r,a)=>{e({loading:!0,error:""});let{data:t,error:l}=await s.N.auth.signInWithPassword({email:r,password:a});l?e({error:l.message,loading:!1}):e({user:t.user,loading:!1})},register:async(r,a)=>{e({loading:!0,error:""});let{data:t,error:l}=await s.N.auth.signUp({email:r,password:a});l?e({error:l.message,loading:!1}):e({user:t.user,loading:!1})},logout:async()=>{e({loading:!0,error:""});let{error:r}=await s.N.auth.signOut();r?e({error:r.message,loading:!1}):e({user:null,loading:!1})},setUser:r=>e({user:r})}))},3970:(e,r,a)=>{"use strict";a.d(r,{N:()=>n});var t=a(2354);let s="https://jtpzzbognaeitsffarcd.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0cHp6Ym9nbmFlaXRzZmZhcmNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3ODUzMTQsImV4cCI6MjA3MDM2MTMxNH0.EKnCEKxKKLLs9iWkHdBHdyWeyrQsHa6IU02NTNGatao";if(!s||!l)throw Error("Supabase environment variables are missing. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file.");let n=(0,t.UU)(s,l)},4223:(e,r,a)=>{"use strict";a.d(r,{T:()=>s});var t=a(5155);a(2115);let s=e=>{let{variant:r="primary",size:a="md",fullWidth:s=!1,icon:l,children:n,onClick:o,disabled:i=!1,className:d=""}=e;return(0,t.jsxs)("button",{onClick:o,disabled:i,className:"".concat("font-semibold rounded-xl transition-all duration-200 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 cursor-pointer"," ").concat({sm:"min-h-[44px] px-4 py-2 text-sm",md:"min-h-[56px] px-6 py-3 text-base",lg:"min-h-[72px] px-8 py-4 text-lg"}[a]," ").concat({primary:"bg-gradient-to-r from-blue-500 to-purple-600 dark:from-blue-600 dark:to-purple-700 text-white shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-purple-700 dark:hover:from-blue-700 dark:hover:to-purple-800 hover:transform hover:scale-105",secondary:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-slate-600 hover:bg-gray-200 dark:hover:bg-slate-600 hover:transform hover:scale-105",tile:"bg-white dark:bg-slate-800 text-gray-800 dark:text-gray-200 border-2 border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700 shadow-sm hover:transform hover:scale-105",ghost:"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-800 hover:transform hover:scale-105"}[r]," ").concat(s?"w-full":""," ").concat(d),children:[l&&(0,t.jsx)("span",{children:l}),(0,t.jsx)("span",{children:n})]})}},6121:(e,r,a)=>{"use strict";a.d(r,{X:()=>s});var t=a(5155);let s=(0,a(2115).forwardRef)((e,r)=>{let{type:a="text",placeholder:s,value:l,onChange:n,label:o,error:i,disabled:d=!1,fullWidth:c=!0,inputMode:g,className:u="",onKeyDown:m}=e;return(0,t.jsxs)("div",{className:"".concat(c?"w-full":""," ").concat(u),children:[o&&(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o}),(0,t.jsx)("input",{ref:r,type:a,placeholder:s,value:l,onChange:e=>n(e.target.value),onKeyDown:m,disabled:d,inputMode:g,className:"\n          min-h-[56px] px-4 py-3 text-lg border-2 rounded-xl transition-all duration-200\n          ".concat(c?"w-full":"","\n          ").concat(i?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 focus:border-red-500 dark:focus:border-red-400 focus:ring-red-500 dark:focus:ring-red-400":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400","\n          ").concat(d?"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-slate-700":"","\n          focus:outline-none focus:ring-2 focus:ring-opacity-50\n          placeholder:text-gray-400 dark:placeholder:text-gray-500\n          text-gray-900 dark:text-gray-100\n        ")}),i&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:i})]})});s.displayName="MobileInput"},7488:(e,r,a)=>{"use strict";a.d(r,{C:()=>t});let t={USERS:"game_users",GAMES:"game_apps",USER_GAMES:"game_records"}},7564:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>m});var t=a(5155),s=a(2115),l=a(5453),n=a(3970),o=a(7488);let i=(0,l.v)(e=>({users:[],loading:!1,error:"",fetchUsers:async()=>{e({loading:!0,error:""});let{data:r,error:a}=await n.N.from(o.C.USERS).select("*");a?e({error:a.message,loading:!1}):e({users:r||[],loading:!1})},addUser:async(r,a)=>{e({loading:!0,error:""});let{error:t}=await n.N.from(o.C.USERS).insert([{email:r,username:a}]);t?e({error:t.message,loading:!1}):(await i.getState().fetchUsers(),e({loading:!1}))},updateUser:async(r,a,t)=>{e({loading:!0,error:""});let{error:s}=await n.N.from(o.C.USERS).update({email:a,username:t}).eq("id",r);s?e({error:s.message,loading:!1}):(await i.getState().fetchUsers(),e({loading:!1}))},deleteUser:async r=>{e({loading:!0,error:""});let{error:a}=await n.N.from(o.C.USERS).delete().eq("id",r);a?e({error:a.message,loading:!1}):(await i.getState().fetchUsers(),e({loading:!1}))}}));var d=a(3294),c=a(5695),g=a(6121),u=a(4223);function m(){let{users:e,loading:r,error:a,fetchUsers:l,addUser:n,updateUser:o,deleteUser:m}=i(),{user:x}=(0,d.n)(),h=(0,c.useRouter)(),[b,p]=(0,s.useState)(""),[f,y]=(0,s.useState)(""),[v,k]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[j,S]=(0,s.useState)(""),[U,C]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x?l():h.replace("/login")},[x,l,h]);let _=async e=>{e.preventDefault(),C(!0),await n(b,f),p(""),y(""),C(!1)},M=async e=>{await m(e)},z=()=>{k(null),N(""),S("")},T=async e=>{e.preventDefault(),v&&(I(!0),await o(v,w,j),z(),I(!1))};return(0,t.jsxs)("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-400 via-pink-300 to-purple-500 dark:from-purple-900 dark:via-blue-900 dark:to-pink-900 overflow-hidden py-10",children:[(0,t.jsx)("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-pink-400 opacity-30 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 bg-blue-400 opacity-30 rounded-full blur-3xl animate-pulse animation-delay-2000"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 bg-purple-400 opacity-20 rounded-full blur-2xl animate-pulse animation-delay-1000"}),(0,t.jsxs)("main",{className:"relative z-10 bg-white/90 dark:bg-gray-900/90 p-10 rounded-3xl shadow-2xl flex flex-col items-center gap-8 max-w-md w-full border border-gray-200 dark:border-gray-800 backdrop-blur-md",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 via-green-400 to-purple-500 shadow-lg mb-2 animate-bounce",children:(0,t.jsx)("svg",{width:"36",height:"36",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-white",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87m9-4a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white text-center drop-shadow-lg",children:"Users"}),(0,t.jsx)("p",{className:"text-md text-gray-700 dark:text-gray-300 text-center max-w-xs",children:"Manage users with a consistent, modern UI."})]}),(0,t.jsxs)("form",{onSubmit:_,className:"w-full space-y-4 mb-6",children:[(0,t.jsx)(g.X,{label:"Email",type:"email",placeholder:"Enter email",value:b,onChange:p}),(0,t.jsx)(g.X,{label:"Username",type:"text",placeholder:"Enter username",value:f,onChange:y}),(0,t.jsx)(u.T,{variant:"primary",size:"md",fullWidth:!0,onClick:()=>{},disabled:U,children:U?"Creating...":"Add User"})]}),r&&(0,t.jsx)("div",{children:"Loading..."}),a&&(0,t.jsx)("div",{className:"text-red-500 text-center text-sm",children:a}),(0,t.jsxs)("div",{className:"w-full space-y-4",children:[e.map(e=>{var r;return(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 flex flex-col relative border border-gray-200 dark:border-gray-700",children:v===e.id?(0,t.jsxs)("form",{onSubmit:T,className:"flex flex-col gap-2",children:[(0,t.jsx)(g.X,{type:"email",value:w,onChange:N}),(0,t.jsx)(g.X,{type:"text",value:j,onChange:S}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(u.T,{variant:"primary",size:"sm",onClick:()=>{},disabled:E,children:E?"Saving...":"Save"}),(0,t.jsx)(u.T,{variant:"secondary",size:"sm",onClick:z,children:"Cancel"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-semibold text-lg",children:e.username||e.email}),(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:e.email}),(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["Joined: ",null==(r=e.created_at)?void 0:r.slice(0,10)]}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,t.jsx)(u.T,{variant:"ghost",size:"sm",onClick:()=>{k(e.id),N(e.email),S(e.username||"")},children:"Edit"}),(0,t.jsx)(u.T,{variant:"ghost",size:"sm",onClick:()=>M(e.id),children:"Delete"})]})]})},e.id)}),0===e.length&&!r&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No users found."})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-4 text-center",children:["\xa9 ",new Date().getFullYear()," Kids Game Management App"]})]})]})}}},e=>{e.O(0,[508,441,964,358],()=>e(e.s=1260)),_N_E=e.O()}]);
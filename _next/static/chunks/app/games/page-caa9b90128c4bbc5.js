(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{322:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>u});var t=r(5155),s=r(2115),l=r(5453),n=r(3970),o=r(7488);let i=(0,l.v)(e=>({games:[],loading:!1,error:"",fetchGames:async()=>{e({loading:!0,error:""});let{data:a,error:r}=await n.N.from(o.C.GAMES).select("*");r?e({error:r.message,loading:!1}):e({games:a||[],loading:!1})},addGame:async(a,r)=>{e({loading:!0,error:""});let{error:t}=await n.N.from(o.C.GAMES).insert([{name:a,description:r}]);t?e({error:t.message,loading:!1}):(await i.getState().fetchGames(),e({loading:!1}))},updateGame:async(a,r,t)=>{e({loading:!0,error:""});let{error:s}=await n.N.from(o.C.GAMES).update({name:r,description:t}).eq("id",a);s?e({error:s.message,loading:!1}):(await i.getState().fetchGames(),e({loading:!1}))},deleteGame:async a=>{e({loading:!0,error:""});let{error:r}=await n.N.from(o.C.GAMES).delete().eq("id",a);r?e({error:r.message,loading:!1}):(await i.getState().fetchGames(),e({loading:!1}))}}));var d=r(3294),c=r(5695),g=r(6121),m=r(4223);function u(){let{games:e,loading:a,error:r,fetchGames:l,addGame:n,updateGame:o,deleteGame:u}=i(),{user:x}=(0,d.n)(),h=(0,c.useRouter)(),[p,b]=(0,s.useState)(""),[f,y]=(0,s.useState)(""),[v,k]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[j,S]=(0,s.useState)(""),[C,E]=(0,s.useState)(!1),[I,G]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x?l():h.replace("/login")},[x,l,h]);let M=async e=>{e.preventDefault(),E(!0),await n(p,f),b(""),y(""),E(!1)},_=async e=>{await u(e)},U=()=>{k(null),N(""),S("")},A=async e=>{e.preventDefault(),v&&(G(!0),await o(v,w,j),U(),G(!1))};return(0,t.jsxs)("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-400 via-pink-300 to-purple-500 dark:from-purple-900 dark:via-blue-900 dark:to-pink-900 overflow-hidden py-10",children:[(0,t.jsx)("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-pink-400 opacity-30 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 bg-blue-400 opacity-30 rounded-full blur-3xl animate-pulse animation-delay-2000"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 bg-purple-400 opacity-20 rounded-full blur-2xl animate-pulse animation-delay-1000"}),(0,t.jsxs)("main",{className:"relative z-10 bg-white/90 dark:bg-gray-900/90 p-10 rounded-3xl shadow-2xl flex flex-col items-center gap-8 max-w-md w-full border border-gray-200 dark:border-gray-800 backdrop-blur-md",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-green-400 via-blue-400 to-purple-500 shadow-lg mb-2 animate-bounce",children:(0,t.jsx)("svg",{width:"36",height:"36",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-white",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 21m5.25-4l.75 4m-7.5-8h10.5M12 3v4m0 0l-2 2m2-2l2 2"})})}),(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white text-center drop-shadow-lg",children:"Games"}),(0,t.jsx)("p",{className:"text-md text-gray-700 dark:text-gray-300 text-center max-w-xs",children:"Manage your games with a consistent, modern UI."})]}),(0,t.jsxs)("form",{onSubmit:M,className:"w-full space-y-4 mb-6",children:[(0,t.jsx)(g.X,{label:"Game Name",type:"text",placeholder:"Enter game name",value:p,onChange:b}),(0,t.jsx)(g.X,{label:"Description",type:"text",placeholder:"Enter description",value:f,onChange:y}),(0,t.jsx)(m.T,{variant:"primary",size:"md",fullWidth:!0,onClick:()=>{},disabled:C,children:C?"Creating...":"Add Game"})]}),a&&(0,t.jsx)("div",{children:"Loading..."}),r&&(0,t.jsx)("div",{className:"text-red-500 text-center text-sm",children:r}),(0,t.jsxs)("div",{className:"w-full space-y-4",children:[e.map(e=>{var a;return(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 flex flex-col relative border border-gray-200 dark:border-gray-700",children:v===e.id?(0,t.jsxs)("form",{onSubmit:A,className:"flex flex-col gap-2",children:[(0,t.jsx)(g.X,{type:"text",value:w,onChange:N}),(0,t.jsx)(g.X,{type:"text",value:j,onChange:S}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(m.T,{variant:"primary",size:"sm",onClick:()=>{},disabled:I,children:I?"Saving...":"Save"}),(0,t.jsx)(m.T,{variant:"secondary",size:"sm",onClick:U,children:"Cancel"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-semibold text-lg",children:e.name}),(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:e.description}),(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["Created: ",null==(a=e.created_at)?void 0:a.slice(0,10)]}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,t.jsx)(m.T,{variant:"ghost",size:"sm",onClick:()=>{k(e.id),N(e.name),S(e.description||"")},children:"Edit"}),(0,t.jsx)(m.T,{variant:"ghost",size:"sm",onClick:()=>_(e.id),children:"Delete"})]})]})},e.id)}),0===e.length&&!a&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No games found."})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-4 text-center",children:["\xa9 ",new Date().getFullYear()," Kids Game Management App"]})]})]})}},3294:(e,a,r)=>{"use strict";r.d(a,{n:()=>l});var t=r(5453),s=r(3970);let l=(0,t.v)(e=>({user:null,loading:!1,error:"",login:async(a,r)=>{e({loading:!0,error:""});let{data:t,error:l}=await s.N.auth.signInWithPassword({email:a,password:r});l?e({error:l.message,loading:!1}):e({user:t.user,loading:!1})},register:async(a,r)=>{e({loading:!0,error:""});let{data:t,error:l}=await s.N.auth.signUp({email:a,password:r});l?e({error:l.message,loading:!1}):e({user:t.user,loading:!1})},logout:async()=>{e({loading:!0,error:""});let{error:a}=await s.N.auth.signOut();a?e({error:a.message,loading:!1}):e({user:null,loading:!1})},setUser:a=>e({user:a})}))},3970:(e,a,r)=>{"use strict";r.d(a,{N:()=>n});var t=r(2354);let s="https://jtpzzbognaeitsffarcd.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0cHp6Ym9nbmFlaXRzZmZhcmNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3ODUzMTQsImV4cCI6MjA3MDM2MTMxNH0.EKnCEKxKKLLs9iWkHdBHdyWeyrQsHa6IU02NTNGatao";if(!s||!l)throw Error("Supabase environment variables are missing. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file.");let n=(0,t.UU)(s,l)},4223:(e,a,r)=>{"use strict";r.d(a,{T:()=>s});var t=r(5155);r(2115);let s=e=>{let{variant:a="primary",size:r="md",fullWidth:s=!1,icon:l,children:n,onClick:o,disabled:i=!1,className:d=""}=e;return(0,t.jsxs)("button",{onClick:o,disabled:i,className:"".concat("font-semibold rounded-xl transition-all duration-200 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 cursor-pointer"," ").concat({sm:"min-h-[44px] px-4 py-2 text-sm",md:"min-h-[56px] px-6 py-3 text-base",lg:"min-h-[72px] px-8 py-4 text-lg"}[r]," ").concat({primary:"bg-gradient-to-r from-blue-500 to-purple-600 dark:from-blue-600 dark:to-purple-700 text-white shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-purple-700 dark:hover:from-blue-700 dark:hover:to-purple-800 hover:transform hover:scale-105",secondary:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-slate-600 hover:bg-gray-200 dark:hover:bg-slate-600 hover:transform hover:scale-105",tile:"bg-white dark:bg-slate-800 text-gray-800 dark:text-gray-200 border-2 border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700 shadow-sm hover:transform hover:scale-105",ghost:"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-800 hover:transform hover:scale-105"}[a]," ").concat(s?"w-full":""," ").concat(d),children:[l&&(0,t.jsx)("span",{children:l}),(0,t.jsx)("span",{children:n})]})}},6121:(e,a,r)=>{"use strict";r.d(a,{X:()=>s});var t=r(5155);let s=(0,r(2115).forwardRef)((e,a)=>{let{type:r="text",placeholder:s,value:l,onChange:n,label:o,error:i,disabled:d=!1,fullWidth:c=!0,inputMode:g,className:m="",onKeyDown:u}=e;return(0,t.jsxs)("div",{className:"".concat(c?"w-full":""," ").concat(m),children:[o&&(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o}),(0,t.jsx)("input",{ref:a,type:r,placeholder:s,value:l,onChange:e=>n(e.target.value),onKeyDown:u,disabled:d,inputMode:g,className:"\n          min-h-[56px] px-4 py-3 text-lg border-2 rounded-xl transition-all duration-200\n          ".concat(c?"w-full":"","\n          ").concat(i?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 focus:border-red-500 dark:focus:border-red-400 focus:ring-red-500 dark:focus:ring-red-400":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400","\n          ").concat(d?"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-slate-700":"","\n          focus:outline-none focus:ring-2 focus:ring-opacity-50\n          placeholder:text-gray-400 dark:placeholder:text-gray-500\n          text-gray-900 dark:text-gray-100\n        ")}),i&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:i})]})});s.displayName="MobileInput"},6681:(e,a,r)=>{Promise.resolve().then(r.bind(r,322))},7488:(e,a,r)=>{"use strict";r.d(a,{C:()=>t});let t={USERS:"game_users",GAMES:"game_apps",USER_GAMES:"game_records"}}},e=>{e.O(0,[508,441,964,358],()=>e(e.s=6681)),_N_E=e.O()}]);